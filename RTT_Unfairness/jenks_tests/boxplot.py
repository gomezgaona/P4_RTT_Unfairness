import matplotlib
import matplotlib.pyplot as plt
import numpy as np

def extract_throughput(filename):
    numbers = []
    with open(filename, 'r') as file:
        for line in file:
            try:
                number = float(line.strip())/1e9  # Convert line to float (or int if applicable)
                numbers.append(number)
            except ValueError:
                # Line does not contain a valid number
                pass
    return numbers


font = {'family' : 'normal',
        'weight' : 'normal',
        'size'   : 26}
f_size = 26
matplotlib.rc('font', **font)

#BBR
'''
data_1 = [0.00607154,0.006092427,0.019585374,0.008046887,0.013078007,0.023039835,0.023093041,0.006039852,0.026210895,0.011049745,0.021138064,0.025040435,0.017051279,0.012071805,0.020140717,0.012180636,0.021038625,0.01436425,0.007162292,0.010048537,0.021103733,0.014072588,0.028172471,0.02520529,0.009200569,0.028067664,0.019057391,0.014158312,0.024032773,0.006130763,0.017048583,0.028097858,0.020053936,0.021122522,0.0280771,0.012036659,0.027075797,0.018119518,0.023089059]
data_2 = [0.032191789,0.033499054,0.041288243,0.04589924,0.03005515,0.029144652,0.032051741,0.034055526,0.036058063,0.038125153,0.030065776,0.030153813,0.037076754,0.035106207,0.05105534,0.036055299,0.047040078,0.042030845,0.047063213,0.041079785,0.03510167,0.039078904,0.039191162,0.041053245,0.032211069,0.043030579,0.045028264,0.047049447,0.036030198,0.045103804,0.05202615,0.04307645,0.048102639,0.032155155,0.03402782,0.035059229,0.032052735,0.032061737,0.034059509,0.031079965,0.042043611,0.034052661,0.037051974,0.054038874,0.044041058,0.050153936,0.050107396,0.039057653,0.055121481,0.050045599,0.032078339,0.051074121,0.032088061,0.050098468,0.042089487]
data_3 = [0.071097552,0.089497002]
data_4 = [0.125350501,0.108065291]
data_5 = [0.006105198,0.00602547,0.028480898,0.028776073,0.026186033,0.024396647,0.032110047,0.021103726,0.026065277,0.006039637,0.017212417,0.011063821,0.021059845,0.030129109,0.023058819,0.029075157,0.012083251,0.02007611,0.012074758,0.03404071,0.021145571,0.03005063,0.02517713,0.025047267,0.027028961,0.02008089,0.028042831,0.032087925,0.032083427,0.012063672,0.018029055,0.030052798,0.03405171,0.014100199,0.009022438,0.034174445,0.032037615,0.032058281,0.012061065,0.028085044,0.034130559,0.019075749,0.017100914,0.028117949,0.031083533,0.018051656,0.020177723,0.024079228,0.032030517,0.058211157,0.060990935,0.060939225,0.071489048,0.037068052,0.039052464,0.03607622,0.035107108,0.064409755,0.047118483,0.043049626,0.039046024,0.038038617,0.047073644,0.045122634,0.039037546,0.041052934,0.036125013,0.045068762,0.041042426,0.047032685,0.039067188,0.052037695,0.046173898,0.042131967,0.036119391,0.043096397,0.039043562,0.050093001,0.051062543,0.048077996,0.044059771,0.055055252,0.04707204,0.050160166,0.039094269,0.050176008,0.037098239,0.044022868,0.052129418,0.050101278,0.107340645,0.157036911,0.159885712,0.121818991,0.114888254,0.148684862,0.12507406,0.286603663]
'''
#CUBIC

data_1 = [0.006137259,0.00829391,0.008149295,0.008169811,0.006339053,0.015166192,0.014520021,0.008270562,0.019162113,0.014640271,0.023186521,0.024420962,0.015923339,0.016460855,0.013554544,0.016138416,0.020479284,0.020784462,0.021416113,0.02533627,0.023180297,0.017124578,0.020031596]
data_2 = [0.030994243,0.034123601,0.027580246,0.039567955,0.041710671,0.032970006,0.036928565,0.035100875,0.036808883,0.03500826,0.041098493,0.043926973,0.029836386,0.028166445,0.043180411,0.043686311,0.038267171,0.031912368,0.042814362,0.027071871,0.038955346,0.034035575,0.030314087,0.040905688,0.028368864,0.033272743,0.034533086,0.03899261,0.03622968,0.035677221,0.035911581,0.045044372,0.042052068,0.02646827,0.041294111,0.041995659,0.034889812,0.044138832]
data_3 = [0.055905262,0.051179899,0.052533128,0.046984748,0.050151497,0.053157742,0.058637059,0.057202622,0.060040568,0.047596649,0.055650774,0.053640779,0.054059104,0.058949901,0.057125425,0.048919533,0.05569639,0.067525437,0.048506056,0.062377832,0.071936068,0.068351186,0.066428577,0.054514075,0.065785672,0.060936057,0.051427256,0.051059913,0.050101377,0.050086973,0.071617906,0.07213417]
data_4 = [0.090660202,0.091912948,0.131578951,0.100095915,0.084075717]
data_5 = [0.006105198,0.00602547,0.028480898,0.028776073,0.026186033,0.024396647,0.032110047,0.021103726,0.026065277,0.006039637,0.017212417,0.011063821,0.021059845,0.030129109,0.023058819,0.029075157,0.012083251,0.02007611,0.012074758,0.03404071,0.021145571,0.03005063,0.02517713,0.025047267,0.027028961,0.02008089,0.028042831,0.032087925,0.032083427,0.012063672,0.018029055,0.030052798,0.03405171,0.014100199,0.009022438,0.034174445,0.032037615,0.032058281,0.012061065,0.028085044,0.034130559,0.019075749,0.017100914,0.028117949,0.031083533,0.018051656,0.020177723,0.024079228,0.032030517,0.058211157,0.060990935,0.060939225,0.071489048,0.037068052,0.039052464,0.03607622,0.035107108,0.064409755,0.047118483,0.043049626,0.039046024,0.038038617,0.047073644,0.045122634,0.039037546,0.041052934,0.036125013,0.045068762,0.041042426,0.047032685,0.039067188,0.052037695,0.046173898,0.042131967,0.036119391,0.043096397,0.039043562,0.050093001,0.051062543,0.048077996,0.044059771,0.055055252,0.04707204,0.050160166,0.039094269,0.050176008,0.037098239,0.044022868,0.052129418,0.050101278,0.107340645,0.157036911,0.159885712,0.121818991,0.114888254,0.148684862,0.12507406,0.286603663]


result1 = [x * 1e3 for x in data_1]
result2 = [x * 1e3 for x in data_2]
result3 = [x * 1e3 for x in data_3]
result4 = [x * 1e3 for x in data_4]
result5 = [x * 1e3 for x in data_5]
data = [result1, result2, result3, result4, result5]

# Create a figure and axes
fig, ax = plt.subplots(1, 1, sharex=True,figsize=(10,8))

# Create a boxplot
ax.boxplot(data, showfliers=False,medianprops = dict(color = "black", linewidth = 1.0))

ax.grid(True, which="both", lw=0.3, linestyle=(0,(1,10)), color='black')
# Customize the plot
ax.set_ylim([5, 130])
ax.set_xticklabels(['q1', 'q2', 'q3', 'q4', 'single\nqueue'])
ax.set_xlabel('Queue')
ax.set_ylabel('RTT [ms]')
#ax.set_yticks(np.arange(0.9, 1.05, 0.05))

# Show the plot
plt.show()
fig.savefig(f"cubic_boxplot.pdf", bbox_inches='tight')
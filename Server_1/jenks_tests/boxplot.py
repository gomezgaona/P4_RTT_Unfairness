import matplotlib
import matplotlib.pyplot as plt
import numpy as np

def extract_throughput(filename):
    numbers = []
    with open(filename, 'r') as file:
        for line in file:
            try:
                number = float(line.strip())/1e9  # Convert line to float (or int if applicable)
                numbers.append(number)
            except ValueError:
                # Line does not contain a valid number
                pass
    return numbers


font = {'family' : 'normal',
        'weight' : 'normal',
        'size'   : 26}
f_size = 26
matplotlib.rc('font', **font)

#BBR

data_1 = [0.00607154,0.006092427,0.019585374,0.008046887,0.013078007,0.023039835,0.023093041,0.006039852,0.026210895,0.011049745,0.021138064,0.025040435,0.017051279,0.012071805,0.020140717,0.012180636,0.021038625,0.01436425,0.007162292,0.010048537,0.021103733,0.014072588,0.028172471,0.02520529,0.009200569,0.028067664,0.019057391,0.014158312,0.024032773,0.006130763,0.017048583,0.028097858,0.020053936,0.021122522,0.0280771,0.012036659,0.027075797,0.018119518,0.023089059]
data_2 = [0.032191789,0.033499054,0.041288243,0.04589924,0.03005515,0.029144652,0.032051741,0.034055526,0.036058063,0.038125153,0.030065776,0.030153813,0.037076754,0.035106207,0.05105534,0.036055299,0.047040078,0.042030845,0.047063213,0.041079785,0.03510167,0.039078904,0.039191162,0.041053245,0.032211069,0.043030579,0.045028264,0.047049447,0.036030198,0.045103804,0.05202615,0.04307645,0.048102639,0.032155155,0.03402782,0.035059229,0.032052735,0.032061737,0.034059509,0.031079965,0.042043611,0.034052661,0.037051974,0.054038874,0.044041058,0.050153936,0.050107396,0.039057653,0.055121481,0.050045599,0.032078339,0.051074121,0.032088061,0.050098468,0.042089487]
data_3 = [0.071097552,0.089497002]
data_4 = [0.125350501,0.108065291]
data_5 = [0.007263674,0.009311369,0.009237362,0.006722465,0.007525872,0.008085643,0.020621955,0.024390694,0.008156346,0.028779933,0.017354436,0.021337289,0.014795845,0.11858884,0.114270599,0.023697642,0.026243481,0.128401087,0.015184534,0.031240502,0.028185589,0.031188213,0.038219637,0.046449492,0.047139789,0.051277854,0.052285257,0.052300166,0.046200626,0.048303178,0.038264347,0.053231223,0.035263277,0.038280743,0.045308358,0.039329603,0.049147738,0.032168853,0.030311762,0.044170043,0.034270175,0.046278209,0.053313847,0.041423156,0.043310431,0.03839332,0.037407304,0.041317846,0.055268541,0.072165768,0.058175108,0.078434607,0.065380643,0.060205294,0.07335595,0.070225388,0.078322569,0.081256485,0.079339889,0.064291436,0.075387919,0.073500065,0.076273966,0.060245979,0.065273416,0.064326538,0.07225916,0.063221213,0.058262203,0.069403631,0.067216491,0.072260233,0.078311107,0.074381753,0.078278925,0.084246342,0.087227573,0.084291913,0.103210552,0.10522576,0.100129171,0.095277392,0.092110665,0.095195275,0.083519262,0.096402038,0.08232358,0.10044713,0.099085453,0.095318107,0.08946644,0.089316298,0.09332726,0.093283993,0.094299444]
print(len(data_5))
#CUBIC
'''
data_1 = [0.007129109,0.009135448,0.020105766,0.008080324,0.024103619,0.007110884,0.006102598,0.008158952,0.008154637,0.015092112,0.016103994,0.006137323,0.012119088,0.020085701,0.014120428,0.015101988,0.025075003,0.014162585,0.020101782,0.00820625,0.014148115]
data_2 = [0.028127526,0.031122099,0.031083505,0.035082771,0.043086867,0.041191121,0.039082278,0.041112323,0.045085027,0.03809185,0.052123516,0.037120168,0.046122703,0.051125548,0.038106908,0.046099948,0.047091438,0.04612237,0.048112987,0.046081113,0.030090063,0.032118603,0.034086589,0.053102792,0.048099565,0.03815562,0.049081917,0.046085501,0.038077533,0.044062321,0.046084413]
data_3 = [0.058157863,0.070077454,0.055090579,0.078101848,0.065075105,0.060098371,0.078128472,0.067081001,0.072067729,0.069101762,0.074100769,0.064107867,0.064126402,0.060068098,0.058092838,0.072113924,0.067064239,0.055177803,0.073093466,0.06308045,0.058068718,0.07914084,0.078090677,0.065146454]
data_4 = [0.097084982,0.099074312,0.093070239,0.09214792,0.091076454,0.099102048,0.089071358,0.100114761,0.094051972,0.096072297,0.120078287,0.114137077,0.125146316,0.113132444,0.084086993,0.089101682,0.113160327,0.100159032,0.093078103,0.092087913,0.099084273,0.12082153]
data_5 = [0.007138811,0.010605148,0.009903691,0.020040059,0.024174777,0.03119524,0.038143205,0.039087396,0.016744764,0.015122548,0.018011245,0.046315213,0.053093002,0.05812711,0.037030256,0.026096677,0.05305318,0.028041968,0.041104465,0.067044347,0.050519246,0.05508821,0.078184645,0.140091214,0.007114671,0.03418326,0.038071557,0.012072178,0.065058038,0.019084899,0.073107513,0.014054929,0.032174292,0.047075884,0.008106877,0.016245616,0.006117313,0.048038328,0.073138186,0.038192001,0.020047066,0.069142874,0.078061354,0.046139598,0.044089864,0.031049246,0.081053726,0.006083525,0.032117334,0.030137559,0.070066948,0.051088249,0.072068387,0.020141238,0.043161353,0.045123415,0.031150658,0.078040188,0.161415297,0.197445496,0.193974014,0.095123491,0.064193913,0.008038346,0.089223572,0.089211373,0.025102722,0.099161431,0.078258214,0.012189042,0.095081896,0.076039201,0.072040468,0.083059013,0.075256427,0.058108034,0.100055026,0.09310165,0.052178356,0.10008173,0.199537294,0.187750874,0.038138303,0.08920378,0.074098041,0.082058691,0.100091996,0.092141814,0.07905893]
'''

result1 = [x * 1e3 for x in data_1]
result2 = [x * 1e3 for x in data_2]
result3 = [x * 1e3 for x in data_3]
result4 = [x * 1e3 for x in data_4]
result5 = [x * 1e3 for x in data_5]
data = [result1, result2, result3, result4, result5]

# Create a figure and axes
fig, ax = plt.subplots(1, 1, sharex=True,figsize=(10,8))

# Create a boxplot
ax.boxplot(data, showfliers=False,medianprops = dict(color = "black", linewidth = 1.0))

ax.grid(True, which="both", lw=0.3, linestyle=(0,(1,10)), color='black')
# Customize the plot
ax.set_ylim([5, 150])
ax.set_xticklabels(['q1', 'q2', 'q3', 'q4', 'single\nqueue'])
ax.set_xlabel('Queue')
ax.set_ylabel('RTT [ms]')
#ax.set_yticks(np.arange(0.9, 1.05, 0.05))

# Show the plot
plt.show()
fig.savefig(f"bbr_boxplot.pdf", bbox_inches='tight')